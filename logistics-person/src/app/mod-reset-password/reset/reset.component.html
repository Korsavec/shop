<app-head></app-head>

<br><br><br>

<div *ngIf="submitForm; else submitFormFalse">

  <div class="flex justify-center">

    <form [formGroup]="loginForm" (submit)="submit()" class="p-4 rounded-lg border border-fuchsia-500 ">

      <h1 class="text-center text-xl">Сброс пароля</h1>

      <div class="my-5 w-full">
        <label for="email1">Адрес электронной почты</label>
        <br>
        <input type="email" minlength="8" maxlength="45" formControlName="email1" id="email1" class="text-black text-[28px] p-2 rounded w-full border text-sm" placeholder="Адрес электронной почты" required>
        <div *ngIf="email1.errors?.['required']"> Обязательно </div>
        <div *ngIf="email1.errors?.['pattern']"> Некорректный Email </div>
      </div>

      <div class="my-5 w-full">
        <label for="email2">Адрес электронной почты</label>
        <br>
        <input type="email" minlength="8" maxlength="45" formControlName="email2" id="email2" class="text-black text-[28px] p-2 rounded w-full border text-sm" placeholder="Повторить адрес электронной почты" required>
        <div *ngIf="email2.errors?.['required']"> Обязательно </div>
        <div *ngIf="email2.errors?.['pattern']"> Некорректный Email </div>
        <div *ngIf="loginForm.hasError('noMatch')">Email не совпадают</div>
      </div>

      <div class="my-5 w-full">
        <button type="submit" [disabled]="!loginForm.valid" class="p-2 w-full bg-purple-700 text-white hover:bg-purple-900 rounded">
          Восстановить
        </button>
      </div>

    </form>

  </div>

</div>


<ng-template #submitFormFalse>

  <div *ngIf="responseServer; else responseServerFalse">
    <p>Идёт отправка данных</p>
  </div>


  <ng-template #responseServerFalse>

    <div *ngIf="responseView; else responseViewFalse">

      <div>
        <p>Если адрес электронной почты был указан верно, то вы сейчас получите сообщение. Пожалуйста, проверти ваше почту и следуйте инструкции.</p>
      </div>


    </div>

    <ng-template #responseViewFalse>
      <p>Упс. Что то пошло не так. Попробуйте позже</p>
    </ng-template>


  </ng-template>


</ng-template>
